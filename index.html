<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tamil Tutor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 20px;
        }
        .button-container {
            margin: 20px;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            border: none;
            background: blue;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
        }
        .grid-table {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        .grid-table div {
            padding: 15px;
            border: 1px solid black;
            text-align: center;
            font-size: 24px;
            cursor: pointer;
            background: lightgray;
            border-radius: 5px;
        }
        .grid-table div:hover {
            background: darkgray;
        }
        canvas {
            border: 2px solid black;
            margin-top: 10px;
            background: white;
        }
        #homePage, #lessonPage, #tablePage {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Home Page -->
    <div id="homePage">
        <h1>Learn Tamil</h1>
        <div class="button-container">
            <button onclick="goToLessons('uyir')">UYIR YELUTHUKKAL</button>
            <button onclick="goToLessons('maei')">MAEI YELUTHUKKAL</button>
            <button onclick="goToTable()">UYIR MAEI YELUTHUKKAL</button>
        </div>
    </div>

    <!-- Lesson Page for Uyir & Maei -->
    <div id="lessonPage">
        <button onclick="goHome()">üè† Home</button>
        <h2 id="lessonTitle"></h2>
        <p id="tamilCharacter" style="font-size: 50px;"></p>
        <button onclick="playAudio()">üîä Pronounce</button>
        <br><br>
        
        <!-- Drawing Canvas -->
        <canvas id="drawingCanvas" width="300" height="300"></canvas>
        <br>
        <button onclick="clearCanvas()">üßπ Clear</button>
        <br><br>

        <button onclick="prevLesson()">Back</button>
        <button onclick="nextLesson()">Next</button>
        <audio id="audioPlayer"></audio>
    </div>

    <!-- Uyir Maei Table Page -->
    <div id="tablePage">
        <button onclick="goHome()">üè† Home</button>
        <h2>UYIR MAEI YELUTHUKKAL</h2>
        <div class="grid-table" id="letterTable"></div>
        <audio id="tableAudio"></audio>
    </div>

    <script>
        const uyirLetters = ["‡ÆÖ", "‡ÆÜ", "‡Æá", "‡Æà", "‡Æâ", "‡Æä", "‡Æé", "‡Æè", "‡Æê", "‡Æí", "‡Æì", "‡Æî"];
        const meiLetters = ["‡Æï‡Øç", "‡Æô‡Øç", "‡Æö‡Øç", "‡Æû‡Øç", "‡Æü‡Øç", "‡Æ£‡Øç", "‡Æ§‡Øç", "‡Æ®‡Øç", "‡Æ™‡Øç", "‡ÆÆ‡Øç", "‡ÆØ‡Øç", "‡Æ∞‡Øç", "‡Æ≤‡Øç", "‡Æµ‡Øç", "‡Æ¥‡Øç", "‡Æ≥‡Øç", "‡Æ±‡Øç", "‡Æ©‡Øç"];
        const uyirMaeiLetters = [];

        meiLetters.forEach(mei => {
            uyirLetters.forEach(uyir => {
                uyirMaeiLetters.push(mei.replace("‡Øç", "") + uyir);
            });
        });

        let lessonType = "";
        let lessonIndex = 0;
        const uyirLesson = uyirLetters;
        const meiLesson = meiLetters;

        function goToLessons(type) {
            lessonType = type;
            lessonIndex = 0;
            document.getElementById("homePage").style.display = "none";
            document.getElementById("lessonPage").style.display = "block";
            document.getElementById("lessonTitle").textContent = type === "uyir" ? "UYIR YELUTHUKKAL" : "MAEI YELUTHUKKAL";
            loadLesson();
        }

        function loadLesson() {
            const lessonArray = lessonType === "uyir" ? uyirLesson : meiLesson;
            document.getElementById("tamilCharacter").textContent = lessonArray[lessonIndex];
            clearCanvas();
        }

        function nextLesson() {
            const lessonArray = lessonType === "uyir" ? uyirLesson : meiLesson;
            if (lessonIndex < lessonArray.length - 1) {
                lessonIndex++;
                loadLesson();
            }
        }

        function prevLesson() {
            if (lessonIndex > 0) {
                lessonIndex--;
                loadLesson();
            }
        }

        function playAudio() {
            const letter = document.getElementById("tamilCharacter").textContent;
            const audioPlayer = document.getElementById("audioPlayer");
            audioPlayer.src = `audio/${letter}.mp3`;
            audioPlayer.play();
        }

        function goToTable() {
            document.getElementById("homePage").style.display = "none";
            document.getElementById("tablePage").style.display = "block";
            generateTable();
        }

        function generateTable() {
            const table = document.getElementById("letterTable");
            table.innerHTML = "";
            uyirMaeiLetters.forEach(letter => {
                const cell = document.createElement("div");
                cell.textContent = letter;
                cell.onclick = () => playLetterAudio(letter);
                table.appendChild(cell);
            });
        }

        function playLetterAudio(letter) {
            const audioPlayer = document.getElementById("tableAudio");
            audioPlayer.src = `audio/${letter}.mp3`;
            audioPlayer.play();
        }

        function goHome() {
            document.getElementById("homePage").style.display = "block";
            document.getElementById("lessonPage").style.display = "none";
            document.getElementById("tablePage").style.display = "none";
        }

        // Drawing Canvas
        const canvas = document.getElementById("drawingCanvas");
        const ctx = canvas.getContext("2d");
        let drawing = false;

        canvas.addEventListener("mousedown", () => { drawing = true; });
        canvas.addEventListener("mouseup", () => { drawing = false; ctx.beginPath(); });
        canvas.addEventListener("mousemove", draw);

        function draw(event) {
            if (!drawing) return;
            ctx.lineWidth = 5;
            ctx.lineCap = "round";
            ctx.strokeStyle = "black";
            ctx.lineTo(event.clientX - canvas.offsetLeft, event.clientY - canvas.offsetTop);
            ctx.stroke();
            ctx.beginPath();
            ctx.moveTo(event.clientX - canvas.offsetLeft, event.clientY - canvas.offsetTop);
        }

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }
    </script>
</body>
</html>
